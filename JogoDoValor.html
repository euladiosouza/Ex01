<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo</title>

    <style>
        table,td{
            border: 1px solid black;
        }
    </style>
    
    <script>
        const verificaPonto = function (captura){
            let pronto

            (captura <=300)? ponto = 1 : ponto = -1; //Operador ternario, usamos no lugar do IF Else
            return ponto
        }

    </script>


</head>
<body>
    <button id="btnIniciar"> Iniciar Jogo</button>
    <input type="text" id="caixa">
    <button id="btnCaptura">Captura Valor</button>
    <br><br>
    <h2>Se o valor capturado for <= 300 voce ganha um ponto,  Se for > 300 voce perde1 ponto</h2>
    <table id="tabela">
        <tr>
            <td>Clique</td>
            <td>Valor Capturado</td>
            <td>Pontuação</td> 
        </tr>
    </table>
    <div>Pontuação: <span  id="caixaPontos"></span></div> <!-- span é uma teg limpa-->


    <script>
        const btnIniciar=document.querySelector("#btnIniciar")
        const btnCaptura=document.querySelector("#btnCaptura")
        const caixa=document.querySelector("#caixa")
        const tabela=document.querySelector("table")
        const caixaPontos=document.querySelector("#caixaPontos")

        let clique = 0;
        pontuacaoArmazenada = 0;

        btnIniciar.addEventListener("click", function(){

            setInterval(function (){
                let geraValor = 1000*Math.random();
                let arredValor = Math.round(geraValor);
                caixa.value = arredValor;
            },200) // vai gerando um novo número a cada 1 segundo.
        })

        btnCaptura.addEventListener("click", function(){
            clique++

            let novoPonto = verificaPonto(caixa.value)

            txtClique = "<tr><td>"+clique+"</td>";
            txtValor = "<td>"+caixa.value+"</td>";
            txtPonto = "<td>"+ponto+"</td></tr>";

            tabela.innerHTML += txtClique + txtValor + txtPonto;

            pontuacaoArmazenada = pontuacaoArmazenada + novoPonto
            caixaPontos.innerHTML = pontuacaoArmazenada
        })
            
        

    </script>
</body>
</html>